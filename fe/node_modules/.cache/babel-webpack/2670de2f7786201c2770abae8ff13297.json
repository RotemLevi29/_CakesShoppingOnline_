{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/rotem.levi/Downloads/CakesShoppingOnline_/CakesShoppingOnline_/fe/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CredentialsModel } from 'src/app/models/credentials.model';\nimport store from 'src/app/redux/store';\nlet LoginComponent = class LoginComponent {\n  constructor(myAuthService, notify, myRouter) {\n    this.myAuthService = myAuthService;\n    this.notify = notify;\n    this.myRouter = myRouter;\n    this.credentials = new CredentialsModel();\n  }\n\n  ngOnInit() {\n    this.unsubscribeMe = store.subscribe(() => {\n      this.user = store.getState().authState.user;\n    });\n  }\n\n  ngOnDestroy() {\n    this.unsubscribeMe();\n  }\n\n  login() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        yield _this.myAuthService.login(_this.credentials);\n\n        _this.notify.success(\"You are logged-in :-)\");\n\n        _this.myRouter.navigateByUrl(\"/home\");\n      } catch (err) {\n        _this.notify.error(err);\n      }\n    })();\n  }\n\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);\nexport { LoginComponent };","map":{"version":3,"sources":["C:/Users/rotem.levi/Downloads/CakesShoppingOnline_/CakesShoppingOnline_/fe/src/app/components/auth-area/login/login.component.ts"],"names":["__decorate","Component","CredentialsModel","store","LoginComponent","constructor","myAuthService","notify","myRouter","credentials","ngOnInit","unsubscribeMe","subscribe","user","getState","authState","ngOnDestroy","login","success","navigateByUrl","err","error","selector","templateUrl","styleUrls"],"mappings":";AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,SAASC,gBAAT,QAAiC,kCAAjC;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,IAAIC,cAAc,GAAG,MAAMA,cAAN,CAAqB;AACtCC,EAAAA,WAAW,CAACC,aAAD,EAAgBC,MAAhB,EAAwBC,QAAxB,EAAkC;AACzC,SAAKF,aAAL,GAAqBA,aAArB;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACA,SAAKC,WAAL,GAAmB,IAAIP,gBAAJ,EAAnB;AACH;;AACDQ,EAAAA,QAAQ,GAAG;AACP,SAAKC,aAAL,GAAqBR,KAAK,CAACS,SAAN,CAAgB,MAAM;AACvC,WAAKC,IAAL,GAAYV,KAAK,CAACW,QAAN,GAAiBC,SAAjB,CAA2BF,IAAvC;AACH,KAFoB,CAArB;AAGH;;AACDG,EAAAA,WAAW,GAAG;AACV,SAAKL,aAAL;AACH;;AACKM,EAAAA,KAAK,GAAG;AAAA;;AAAA;AACV,UAAI;AACA,cAAM,KAAI,CAACX,aAAL,CAAmBW,KAAnB,CAAyB,KAAI,CAACR,WAA9B,CAAN;;AACA,QAAA,KAAI,CAACF,MAAL,CAAYW,OAAZ,CAAoB,uBAApB;;AACA,QAAA,KAAI,CAACV,QAAL,CAAcW,aAAd,CAA4B,OAA5B;AACH,OAJD,CAKA,OAAOC,GAAP,EAAY;AACR,QAAA,KAAI,CAACb,MAAL,CAAYc,KAAZ,CAAkBD,GAAlB;AACH;AARS;AASb;;AAxBqC,CAA1C;AA0BAhB,cAAc,GAAGJ,UAAU,CAAC,CACxBC,SAAS,CAAC;AACNqB,EAAAA,QAAQ,EAAE,WADJ;AAENC,EAAAA,WAAW,EAAE,wBAFP;AAGNC,EAAAA,SAAS,EAAE,CAAC,uBAAD;AAHL,CAAD,CADe,CAAD,EAMxBpB,cANwB,CAA3B;AAOA,SAASA,cAAT","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nimport { CredentialsModel } from 'src/app/models/credentials.model';\r\nimport store from 'src/app/redux/store';\r\nlet LoginComponent = class LoginComponent {\r\n    constructor(myAuthService, notify, myRouter) {\r\n        this.myAuthService = myAuthService;\r\n        this.notify = notify;\r\n        this.myRouter = myRouter;\r\n        this.credentials = new CredentialsModel();\r\n    }\r\n    ngOnInit() {\r\n        this.unsubscribeMe = store.subscribe(() => {\r\n            this.user = store.getState().authState.user;\r\n        });\r\n    }\r\n    ngOnDestroy() {\r\n        this.unsubscribeMe();\r\n    }\r\n    async login() {\r\n        try {\r\n            await this.myAuthService.login(this.credentials);\r\n            this.notify.success(\"You are logged-in :-)\");\r\n            this.myRouter.navigateByUrl(\"/home\");\r\n        }\r\n        catch (err) {\r\n            this.notify.error(err);\r\n        }\r\n    }\r\n};\r\nLoginComponent = __decorate([\r\n    Component({\r\n        selector: 'app-login',\r\n        templateUrl: './login.component.html',\r\n        styleUrls: ['./login.component.css']\r\n    })\r\n], LoginComponent);\r\nexport { LoginComponent };\r\n"]},"metadata":{},"sourceType":"module"}