{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/rotem.levi/Downloads/CakesShoppingOnline_/CakesShoppingOnline_/fe/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { EventEmitter } from '@angular/core';\nimport ProductModel from 'src/app/models/product.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./../../../services/products.service\";\nimport * as i2 from \"src/app/services/category.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"src/app/services/notify.service\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/common\";\n\nfunction AddProductComponent_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Missing name.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddProductComponent_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Name must start with a capital letter.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddProductComponent_option_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const category_r9 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", category_r9.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(category_r9.name);\n  }\n}\n\nfunction AddProductComponent_span_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Missing price.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddProductComponent_span_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Missing image.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class AddProductComponent {\n  constructor(myProductsService, myCategoriesService, myRouter, notify) {\n    this.myProductsService = myProductsService;\n    this.myCategoriesService = myCategoriesService;\n    this.myRouter = myRouter;\n    this.notify = notify; // We must create an empty object for the Two-Way Binding:\n\n    this.product = new ProductModel();\n    this.endOfProcess = new EventEmitter();\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        _this.categories = yield _this.myCategoriesService.getAllCategories();\n        console.log(_this.categories);\n      } catch (err) {\n        _this.notify.error(err);\n      }\n    })();\n  }\n\n  saveImage(args) {\n    this.product.image = args.target.files;\n  }\n\n  imageBlur() {\n    this.imageVisited = true;\n  }\n\n  send() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        console.log(_this2.product);\n        yield _this2.myProductsService.addProduct(_this2.product);\n\n        _this2.notify.success(\"Product has been added.\");\n\n        _this2.endOfProcess.emit(true); // this.myRouter.navigateByUrl(\"/admin\");\n\n      } catch (err) {\n        _this2.notify.error(err);\n      }\n    })();\n  }\n\n}\n\nAddProductComponent.ɵfac = function AddProductComponent_Factory(t) {\n  return new (t || AddProductComponent)(i0.ɵɵdirectiveInject(i1.ProductsService), i0.ɵɵdirectiveInject(i2.CategoriesService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.NotifyService));\n};\n\nAddProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddProductComponent,\n  selectors: [[\"app-add-product\"]],\n  outputs: {\n    endOfProcess: \"endOfProcess\"\n  },\n  decls: 25,\n  vars: 9,\n  consts: [[1, \"box\"], [3, \"submit\"], [\"myForm\", \"ngForm\"], [\"type\", \"text\", \"name\", \"name\", \"required\", \"\", \"pattern\", \"^[A-Z].*$\", 3, \"ngModel\", \"ngModelChange\"], [\"nameBox\", \"ngModel\"], [4, \"ngIf\"], [\"type\", \"\", \"name\", \"categoryId\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"categoryBox\", \"ngModel\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"number\", \"step\", \"0.01\", \"name\", \"price\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"priceBox\", \"ngModel\"], [\"type\", \"file\", \"accept\", \"image/*\", \"required\", \"\", 3, \"change\", \"blur\"], [3, \"disabled\"], [3, \"ngValue\"]],\n  template: function AddProductComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"form\", 1, 2);\n      i0.ɵɵlistener(\"submit\", function AddProductComponent_Template_form_submit_1_listener() {\n        return ctx.send();\n      });\n      i0.ɵɵelementStart(3, \"label\");\n      i0.ɵɵtext(4, \"\\u05E9\\u05DD: * \\u05D7\\u05D5\\u05D1\\u05D4 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"input\", 3, 4);\n      i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_input_ngModelChange_5_listener($event) {\n        return ctx.product.name = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(7, AddProductComponent_span_7_Template, 2, 0, \"span\", 5);\n      i0.ɵɵtemplate(8, AddProductComponent_span_8_Template, 2, 0, \"span\", 5);\n      i0.ɵɵelementStart(9, \"label\");\n      i0.ɵɵtext(10, \"\\u05E7\\u05D8\\u05D2\\u05D5\\u05E8\\u05D9\\u05D4: * \\u05D7\\u05D5\\u05D1\\u05D4\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"select\", 6, 7);\n      i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_select_ngModelChange_11_listener($event) {\n        return ctx.product.categoryId = $event;\n      });\n      i0.ɵɵtemplate(13, AddProductComponent_option_13_Template, 2, 2, \"option\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"label\");\n      i0.ɵɵtext(15, \"\\u05DE\\u05D7\\u05D9\\u05E8: * \\u05D7\\u05D5\\u05D1\\u05D4 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"input\", 9, 10);\n      i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.product.price = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(18, AddProductComponent_span_18_Template, 2, 0, \"span\", 5);\n      i0.ɵɵelementStart(19, \"label\");\n      i0.ɵɵtext(20, \"\\u05EA\\u05DE\\u05D5\\u05E0\\u05D4: * \\u05D7\\u05D5\\u05D1\\u05D4 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"input\", 11);\n      i0.ɵɵlistener(\"change\", function AddProductComponent_Template_input_change_21_listener($event) {\n        return ctx.saveImage($event);\n      })(\"blur\", function AddProductComponent_Template_input_blur_21_listener() {\n        return ctx.imageBlur();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(22, AddProductComponent_span_22_Template, 2, 0, \"span\", 5);\n      i0.ɵɵelementStart(23, \"button\", 12);\n      i0.ɵɵtext(24, \"Add\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(2);\n\n      const _r1 = i0.ɵɵreference(6);\n\n      const _r6 = i0.ɵɵreference(17);\n\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.product.name);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", (_r1.errors == null ? null : _r1.errors.required) && _r1.touched);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", (_r1.errors == null ? null : _r1.errors.pattern) && _r1.touched);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.product.categoryId);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.product.price);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r6.invalid && _r6.touched);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.imageVisited && !ctx.product.image);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", _r0.form.invalid);\n    }\n  },\n  directives: [i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.NgForm, i5.DefaultValueAccessor, i5.RequiredValidator, i5.PatternValidator, i5.NgControlStatus, i5.NgModel, i6.NgIf, i5.SelectControlValueAccessor, i6.NgForOf, i5.NumberValueAccessor, i5.NgSelectOption, i5.ɵNgSelectMultipleOption],\n  styles: [\"form[_ngcontent-%COMP%] {\\r\\n    width: 300px;\\r\\n    margin: auto;\\r\\n    text-align: left;\\r\\n}\\r\\n\\r\\ninput[_ngcontent-%COMP%], button[_ngcontent-%COMP%], label[_ngcontent-%COMP%] {\\r\\n\\twidth: 100%;\\r\\n    box-sizing: border-box;\\r\\n    font-size: x-large;\\r\\n    margin-bottom: 30px;\\r\\n}\\r\\n\\r\\nspan[_ngcontent-%COMP%] {\\r\\n    color: red;\\r\\n    font-size: x-large;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZC1wcm9kdWN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxZQUFZO0lBQ1osWUFBWTtJQUNaLGdCQUFnQjtBQUNwQjs7QUFFQTtDQUNDLFdBQVc7SUFDUixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLFVBQVU7SUFDVixrQkFBa0I7QUFDdEIiLCJmaWxlIjoiYWRkLXByb2R1Y3QuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImZvcm0ge1xyXG4gICAgd2lkdGg6IDMwMHB4O1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxufVxyXG5cclxuaW5wdXQsIGJ1dHRvbiwgbGFiZWwge1xyXG5cdHdpZHRoOiAxMDAlO1xyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgIGZvbnQtc2l6ZTogeC1sYXJnZTtcclxuICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XHJcbn1cclxuXHJcbnNwYW4ge1xyXG4gICAgY29sb3I6IHJlZDtcclxuICAgIGZvbnQtc2l6ZTogeC1sYXJnZTtcclxufSJdfQ== */\"]\n});","map":{"version":3,"sources":["C:/Users/rotem.levi/Downloads/CakesShoppingOnline_/CakesShoppingOnline_/fe/src/app/components/products-area/add-product/add-product.component.ts"],"names":["EventEmitter","ProductModel","i0","i1","i2","i3","i4","i5","i6","AddProductComponent_span_7_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","AddProductComponent_span_8_Template","AddProductComponent_option_13_Template","category_r9","$implicit","ɵɵproperty","id","ɵɵadvance","ɵɵtextInterpolate","name","AddProductComponent_span_18_Template","AddProductComponent_span_22_Template","AddProductComponent","constructor","myProductsService","myCategoriesService","myRouter","notify","product","endOfProcess","ngOnInit","categories","getAllCategories","console","log","err","error","saveImage","args","image","target","files","imageBlur","imageVisited","send","addProduct","success","emit","ɵfac","AddProductComponent_Factory","t","ɵɵdirectiveInject","ProductsService","CategoriesService","Router","NotifyService","ɵcmp","ɵɵdefineComponent","type","selectors","outputs","decls","vars","consts","template","AddProductComponent_Template","ɵɵlistener","AddProductComponent_Template_form_submit_1_listener","AddProductComponent_Template_input_ngModelChange_5_listener","$event","ɵɵtemplate","AddProductComponent_Template_select_ngModelChange_11_listener","categoryId","AddProductComponent_Template_input_ngModelChange_16_listener","price","AddProductComponent_Template_input_change_21_listener","AddProductComponent_Template_input_blur_21_listener","_r0","ɵɵreference","_r1","_r6","errors","required","touched","pattern","invalid","form","directives","ɵNgNoValidate","NgControlStatusGroup","NgForm","DefaultValueAccessor","RequiredValidator","PatternValidator","NgControlStatus","NgModel","NgIf","SelectControlValueAccessor","NgForOf","NumberValueAccessor","NgSelectOption","ɵNgSelectMultipleOption","styles"],"mappings":";AAAA,SAASA,YAAT,QAA6B,eAA7B;AACA,OAAOC,YAAP,MAAyB,8BAAzB;AACA,OAAO,KAAKC,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,sCAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,mCAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iCAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,gBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;;AACA,SAASC,mCAAT,CAA6CC,EAA7C,EAAiDC,GAAjD,EAAsD;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAChER,IAAAA,EAAE,CAACU,cAAH,CAAkB,CAAlB,EAAqB,MAArB;AACAV,IAAAA,EAAE,CAACW,MAAH,CAAU,CAAV,EAAa,eAAb;AACAX,IAAAA,EAAE,CAACY,YAAH;AACH;AAAE;;AACH,SAASC,mCAAT,CAA6CL,EAA7C,EAAiDC,GAAjD,EAAsD;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAChER,IAAAA,EAAE,CAACU,cAAH,CAAkB,CAAlB,EAAqB,MAArB;AACAV,IAAAA,EAAE,CAACW,MAAH,CAAU,CAAV,EAAa,wCAAb;AACAX,IAAAA,EAAE,CAACY,YAAH;AACH;AAAE;;AACH,SAASE,sCAAT,CAAgDN,EAAhD,EAAoDC,GAApD,EAAyD;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACnER,IAAAA,EAAE,CAACU,cAAH,CAAkB,CAAlB,EAAqB,QAArB,EAA+B,EAA/B;AACAV,IAAAA,EAAE,CAACW,MAAH,CAAU,CAAV;AACAX,IAAAA,EAAE,CAACY,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAMO,WAAW,GAAGN,GAAG,CAACO,SAAxB;AACAhB,IAAAA,EAAE,CAACiB,UAAH,CAAc,SAAd,EAAyBF,WAAW,CAACG,EAArC;AACAlB,IAAAA,EAAE,CAACmB,SAAH,CAAa,CAAb;AACAnB,IAAAA,EAAE,CAACoB,iBAAH,CAAqBL,WAAW,CAACM,IAAjC;AACH;AAAE;;AACH,SAASC,oCAAT,CAA8Cd,EAA9C,EAAkDC,GAAlD,EAAuD;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACjER,IAAAA,EAAE,CAACU,cAAH,CAAkB,CAAlB,EAAqB,MAArB;AACAV,IAAAA,EAAE,CAACW,MAAH,CAAU,CAAV,EAAa,gBAAb;AACAX,IAAAA,EAAE,CAACY,YAAH;AACH;AAAE;;AACH,SAASW,oCAAT,CAA8Cf,EAA9C,EAAkDC,GAAlD,EAAuD;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACjER,IAAAA,EAAE,CAACU,cAAH,CAAkB,CAAlB,EAAqB,MAArB;AACAV,IAAAA,EAAE,CAACW,MAAH,CAAU,CAAV,EAAa,gBAAb;AACAX,IAAAA,EAAE,CAACY,YAAH;AACH;AAAE;;AACH,OAAO,MAAMY,mBAAN,CAA0B;AAC7BC,EAAAA,WAAW,CAACC,iBAAD,EAAoBC,mBAApB,EAAyCC,QAAzC,EAAmDC,MAAnD,EAA2D;AAClE,SAAKH,iBAAL,GAAyBA,iBAAzB;AACA,SAAKC,mBAAL,GAA2BA,mBAA3B;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACA,SAAKC,MAAL,GAAcA,MAAd,CAJkE,CAKlE;;AACA,SAAKC,OAAL,GAAe,IAAI/B,YAAJ,EAAf;AACA,SAAKgC,YAAL,GAAoB,IAAIjC,YAAJ,EAApB;AACH;;AACKkC,EAAAA,QAAQ,GAAG;AAAA;;AAAA;AACb,UAAI;AACA,QAAA,KAAI,CAACC,UAAL,SAAwB,KAAI,CAACN,mBAAL,CAAyBO,gBAAzB,EAAxB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAI,CAACH,UAAjB;AACH,OAHD,CAIA,OAAOI,GAAP,EAAY;AACR,QAAA,KAAI,CAACR,MAAL,CAAYS,KAAZ,CAAkBD,GAAlB;AACH;AAPY;AAQhB;;AACDE,EAAAA,SAAS,CAACC,IAAD,EAAO;AACZ,SAAKV,OAAL,CAAaW,KAAb,GAAqBD,IAAI,CAACE,MAAL,CAAYC,KAAjC;AACH;;AACDC,EAAAA,SAAS,GAAG;AACR,SAAKC,YAAL,GAAoB,IAApB;AACH;;AACKC,EAAAA,IAAI,GAAG;AAAA;;AAAA;AACT,UAAI;AACAX,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAI,CAACN,OAAjB;AACA,cAAM,MAAI,CAACJ,iBAAL,CAAuBqB,UAAvB,CAAkC,MAAI,CAACjB,OAAvC,CAAN;;AACA,QAAA,MAAI,CAACD,MAAL,CAAYmB,OAAZ,CAAoB,yBAApB;;AACA,QAAA,MAAI,CAACjB,YAAL,CAAkBkB,IAAlB,CAAuB,IAAvB,EAJA,CAKA;;AACH,OAND,CAOA,OAAOZ,GAAP,EAAY;AACR,QAAA,MAAI,CAACR,MAAL,CAAYS,KAAZ,CAAkBD,GAAlB;AACH;AAVQ;AAWZ;;AApC4B;;AAsCjCb,mBAAmB,CAAC0B,IAApB,GAA2B,SAASC,2BAAT,CAAqCC,CAArC,EAAwC;AAAE,SAAO,KAAKA,CAAC,IAAI5B,mBAAV,EAA+BxB,EAAE,CAACqD,iBAAH,CAAqBpD,EAAE,CAACqD,eAAxB,CAA/B,EAAyEtD,EAAE,CAACqD,iBAAH,CAAqBnD,EAAE,CAACqD,iBAAxB,CAAzE,EAAqHvD,EAAE,CAACqD,iBAAH,CAAqBlD,EAAE,CAACqD,MAAxB,CAArH,EAAsJxD,EAAE,CAACqD,iBAAH,CAAqBjD,EAAE,CAACqD,aAAxB,CAAtJ,CAAP;AAAuM,CAA5Q;;AACAjC,mBAAmB,CAACkC,IAApB,GAA2B,aAAc1D,EAAE,CAAC2D,iBAAH,CAAqB;AAAEC,EAAAA,IAAI,EAAEpC,mBAAR;AAA6BqC,EAAAA,SAAS,EAAE,CAAC,CAAC,iBAAD,CAAD,CAAxC;AAA+DC,EAAAA,OAAO,EAAE;AAAE/B,IAAAA,YAAY,EAAE;AAAhB,GAAxE;AAA0GgC,EAAAA,KAAK,EAAE,EAAjH;AAAqHC,EAAAA,IAAI,EAAE,CAA3H;AAA8HC,EAAAA,MAAM,EAAE,CAAC,CAAC,CAAD,EAAI,KAAJ,CAAD,EAAa,CAAC,CAAD,EAAI,QAAJ,CAAb,EAA4B,CAAC,QAAD,EAAW,QAAX,CAA5B,EAAkD,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,EAAyB,MAAzB,EAAiC,UAAjC,EAA6C,EAA7C,EAAiD,SAAjD,EAA4D,WAA5D,EAAyE,CAAzE,EAA4E,SAA5E,EAAuF,eAAvF,CAAlD,EAA2J,CAAC,SAAD,EAAY,SAAZ,CAA3J,EAAmL,CAAC,CAAD,EAAI,MAAJ,CAAnL,EAAgM,CAAC,MAAD,EAAS,EAAT,EAAa,MAAb,EAAqB,YAArB,EAAmC,UAAnC,EAA+C,EAA/C,EAAmD,CAAnD,EAAsD,SAAtD,EAAiE,eAAjE,CAAhM,EAAmR,CAAC,aAAD,EAAgB,SAAhB,CAAnR,EAA+S,CAAC,CAAD,EAAI,SAAJ,EAAe,CAAf,EAAkB,OAAlB,EAA2B,SAA3B,CAA/S,EAAsV,CAAC,MAAD,EAAS,QAAT,EAAmB,MAAnB,EAA2B,MAA3B,EAAmC,MAAnC,EAA2C,OAA3C,EAAoD,UAApD,EAAgE,EAAhE,EAAoE,CAApE,EAAuE,SAAvE,EAAkF,eAAlF,CAAtV,EAA0b,CAAC,UAAD,EAAa,SAAb,CAA1b,EAAmd,CAAC,MAAD,EAAS,MAAT,EAAiB,QAAjB,EAA2B,SAA3B,EAAsC,UAAtC,EAAkD,EAAlD,EAAsD,CAAtD,EAAyD,QAAzD,EAAmE,MAAnE,CAAnd,EAA+hB,CAAC,CAAD,EAAI,UAAJ,CAA/hB,EAAgjB,CAAC,CAAD,EAAI,SAAJ,CAAhjB,CAAtI;AAAusBC,EAAAA,QAAQ,EAAE,SAASC,4BAAT,CAAsC3D,EAAtC,EAA0CC,GAA1C,EAA+C;AAAE,QAAID,EAAE,GAAG,CAAT,EAAY;AACp0BR,MAAAA,EAAE,CAACU,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAV,MAAAA,EAAE,CAACU,cAAH,CAAkB,CAAlB,EAAqB,MAArB,EAA6B,CAA7B,EAAgC,CAAhC;AACAV,MAAAA,EAAE,CAACoE,UAAH,CAAc,QAAd,EAAwB,SAASC,mDAAT,GAA+D;AAAE,eAAO5D,GAAG,CAACqC,IAAJ,EAAP;AAAoB,OAA7G;AACA9C,MAAAA,EAAE,CAACU,cAAH,CAAkB,CAAlB,EAAqB,OAArB;AACAV,MAAAA,EAAE,CAACW,MAAH,CAAU,CAAV,EAAa,2CAAb;AACAX,MAAAA,EAAE,CAACY,YAAH;AACAZ,MAAAA,EAAE,CAACU,cAAH,CAAkB,CAAlB,EAAqB,OAArB,EAA8B,CAA9B,EAAiC,CAAjC;AACAV,MAAAA,EAAE,CAACoE,UAAH,CAAc,eAAd,EAA+B,SAASE,2DAAT,CAAqEC,MAArE,EAA6E;AAAE,eAAO9D,GAAG,CAACqB,OAAJ,CAAYT,IAAZ,GAAmBkD,MAA1B;AAAmC,OAAjJ;AACAvE,MAAAA,EAAE,CAACY,YAAH;AACAZ,MAAAA,EAAE,CAACwE,UAAH,CAAc,CAAd,EAAiBjE,mCAAjB,EAAsD,CAAtD,EAAyD,CAAzD,EAA4D,MAA5D,EAAoE,CAApE;AACAP,MAAAA,EAAE,CAACwE,UAAH,CAAc,CAAd,EAAiB3D,mCAAjB,EAAsD,CAAtD,EAAyD,CAAzD,EAA4D,MAA5D,EAAoE,CAApE;AACAb,MAAAA,EAAE,CAACU,cAAH,CAAkB,CAAlB,EAAqB,OAArB;AACAV,MAAAA,EAAE,CAACW,MAAH,CAAU,EAAV,EAAc,wEAAd;AACAX,MAAAA,EAAE,CAACY,YAAH;AACAZ,MAAAA,EAAE,CAACU,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,CAAhC,EAAmC,CAAnC;AACAV,MAAAA,EAAE,CAACoE,UAAH,CAAc,eAAd,EAA+B,SAASK,6DAAT,CAAuEF,MAAvE,EAA+E;AAAE,eAAO9D,GAAG,CAACqB,OAAJ,CAAY4C,UAAZ,GAAyBH,MAAhC;AAAyC,OAAzJ;AACAvE,MAAAA,EAAE,CAACwE,UAAH,CAAc,EAAd,EAAkB1D,sCAAlB,EAA0D,CAA1D,EAA6D,CAA7D,EAAgE,QAAhE,EAA0E,CAA1E;AACAd,MAAAA,EAAE,CAACY,YAAH;AACAZ,MAAAA,EAAE,CAACU,cAAH,CAAkB,EAAlB,EAAsB,OAAtB;AACAV,MAAAA,EAAE,CAACW,MAAH,CAAU,EAAV,EAAc,uDAAd;AACAX,MAAAA,EAAE,CAACY,YAAH;AACAZ,MAAAA,EAAE,CAACU,cAAH,CAAkB,EAAlB,EAAsB,OAAtB,EAA+B,CAA/B,EAAkC,EAAlC;AACAV,MAAAA,EAAE,CAACoE,UAAH,CAAc,eAAd,EAA+B,SAASO,4DAAT,CAAsEJ,MAAtE,EAA8E;AAAE,eAAO9D,GAAG,CAACqB,OAAJ,CAAY8C,KAAZ,GAAoBL,MAA3B;AAAoC,OAAnJ;AACAvE,MAAAA,EAAE,CAACY,YAAH;AACAZ,MAAAA,EAAE,CAACwE,UAAH,CAAc,EAAd,EAAkBlD,oCAAlB,EAAwD,CAAxD,EAA2D,CAA3D,EAA8D,MAA9D,EAAsE,CAAtE;AACAtB,MAAAA,EAAE,CAACU,cAAH,CAAkB,EAAlB,EAAsB,OAAtB;AACAV,MAAAA,EAAE,CAACW,MAAH,CAAU,EAAV,EAAc,6DAAd;AACAX,MAAAA,EAAE,CAACY,YAAH;AACAZ,MAAAA,EAAE,CAACU,cAAH,CAAkB,EAAlB,EAAsB,OAAtB,EAA+B,EAA/B;AACAV,MAAAA,EAAE,CAACoE,UAAH,CAAc,QAAd,EAAwB,SAASS,qDAAT,CAA+DN,MAA/D,EAAuE;AAAE,eAAO9D,GAAG,CAAC8B,SAAJ,CAAcgC,MAAd,CAAP;AAA+B,OAAhI,EAAkI,MAAlI,EAA0I,SAASO,mDAAT,GAA+D;AAAE,eAAOrE,GAAG,CAACmC,SAAJ,EAAP;AAAyB,OAApO;AACA5C,MAAAA,EAAE,CAACY,YAAH;AACAZ,MAAAA,EAAE,CAACwE,UAAH,CAAc,EAAd,EAAkBjD,oCAAlB,EAAwD,CAAxD,EAA2D,CAA3D,EAA8D,MAA9D,EAAsE,CAAtE;AACAvB,MAAAA,EAAE,CAACU,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAV,MAAAA,EAAE,CAACW,MAAH,CAAU,EAAV,EAAc,KAAd;AACAX,MAAAA,EAAE,CAACY,YAAH;AACAZ,MAAAA,EAAE,CAACY,YAAH;AACAZ,MAAAA,EAAE,CAACY,YAAH;AACH;;AAAC,QAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,YAAMuE,GAAG,GAAG/E,EAAE,CAACgF,WAAH,CAAe,CAAf,CAAZ;;AACA,YAAMC,GAAG,GAAGjF,EAAE,CAACgF,WAAH,CAAe,CAAf,CAAZ;;AACA,YAAME,GAAG,GAAGlF,EAAE,CAACgF,WAAH,CAAe,EAAf,CAAZ;;AACAhF,MAAAA,EAAE,CAACmB,SAAH,CAAa,CAAb;AACAnB,MAAAA,EAAE,CAACiB,UAAH,CAAc,SAAd,EAAyBR,GAAG,CAACqB,OAAJ,CAAYT,IAArC;AACArB,MAAAA,EAAE,CAACmB,SAAH,CAAa,CAAb;AACAnB,MAAAA,EAAE,CAACiB,UAAH,CAAc,MAAd,EAAsB,CAACgE,GAAG,CAACE,MAAJ,IAAc,IAAd,GAAqB,IAArB,GAA4BF,GAAG,CAACE,MAAJ,CAAWC,QAAxC,KAAqDH,GAAG,CAACI,OAA/E;AACArF,MAAAA,EAAE,CAACmB,SAAH,CAAa,CAAb;AACAnB,MAAAA,EAAE,CAACiB,UAAH,CAAc,MAAd,EAAsB,CAACgE,GAAG,CAACE,MAAJ,IAAc,IAAd,GAAqB,IAArB,GAA4BF,GAAG,CAACE,MAAJ,CAAWG,OAAxC,KAAoDL,GAAG,CAACI,OAA9E;AACArF,MAAAA,EAAE,CAACmB,SAAH,CAAa,CAAb;AACAnB,MAAAA,EAAE,CAACiB,UAAH,CAAc,SAAd,EAAyBR,GAAG,CAACqB,OAAJ,CAAY4C,UAArC;AACA1E,MAAAA,EAAE,CAACmB,SAAH,CAAa,CAAb;AACAnB,MAAAA,EAAE,CAACiB,UAAH,CAAc,SAAd,EAAyBR,GAAG,CAACwB,UAA7B;AACAjC,MAAAA,EAAE,CAACmB,SAAH,CAAa,CAAb;AACAnB,MAAAA,EAAE,CAACiB,UAAH,CAAc,SAAd,EAAyBR,GAAG,CAACqB,OAAJ,CAAY8C,KAArC;AACA5E,MAAAA,EAAE,CAACmB,SAAH,CAAa,CAAb;AACAnB,MAAAA,EAAE,CAACiB,UAAH,CAAc,MAAd,EAAsBiE,GAAG,CAACK,OAAJ,IAAeL,GAAG,CAACG,OAAzC;AACArF,MAAAA,EAAE,CAACmB,SAAH,CAAa,CAAb;AACAnB,MAAAA,EAAE,CAACiB,UAAH,CAAc,MAAd,EAAsBR,GAAG,CAACoC,YAAJ,IAAoB,CAACpC,GAAG,CAACqB,OAAJ,CAAYW,KAAvD;AACAzC,MAAAA,EAAE,CAACmB,SAAH,CAAa,CAAb;AACAnB,MAAAA,EAAE,CAACiB,UAAH,CAAc,UAAd,EAA0B8D,GAAG,CAACS,IAAJ,CAASD,OAAnC;AACH;AAAE,GA5DuD;AA4DrDE,EAAAA,UAAU,EAAE,CAACpF,EAAE,CAACqF,aAAJ,EAAmBrF,EAAE,CAACsF,oBAAtB,EAA4CtF,EAAE,CAACuF,MAA/C,EAAuDvF,EAAE,CAACwF,oBAA1D,EAAgFxF,EAAE,CAACyF,iBAAnF,EAAsGzF,EAAE,CAAC0F,gBAAzG,EAA2H1F,EAAE,CAAC2F,eAA9H,EAA+I3F,EAAE,CAAC4F,OAAlJ,EAA2J3F,EAAE,CAAC4F,IAA9J,EAAoK7F,EAAE,CAAC8F,0BAAvK,EAAmM7F,EAAE,CAAC8F,OAAtM,EAA+M/F,EAAE,CAACgG,mBAAlN,EAAuOhG,EAAE,CAACiG,cAA1O,EAA0PjG,EAAE,CAACkG,uBAA7P,CA5DyC;AA4D8OC,EAAAA,MAAM,EAAE,CAAC,spCAAD;AA5DtP,CAArB,CAAzC","sourcesContent":["import { EventEmitter } from '@angular/core';\r\nimport ProductModel from 'src/app/models/product.model';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"./../../../services/products.service\";\r\nimport * as i2 from \"src/app/services/category.service\";\r\nimport * as i3 from \"@angular/router\";\r\nimport * as i4 from \"src/app/services/notify.service\";\r\nimport * as i5 from \"@angular/forms\";\r\nimport * as i6 from \"@angular/common\";\r\nfunction AddProductComponent_span_7_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"span\");\r\n    i0.ɵɵtext(1, \"Missing name.\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction AddProductComponent_span_8_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"span\");\r\n    i0.ɵɵtext(1, \"Name must start with a capital letter.\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction AddProductComponent_option_13_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"option\", 13);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const category_r9 = ctx.$implicit;\r\n    i0.ɵɵproperty(\"ngValue\", category_r9.id);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate(category_r9.name);\r\n} }\r\nfunction AddProductComponent_span_18_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"span\");\r\n    i0.ɵɵtext(1, \"Missing price.\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction AddProductComponent_span_22_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"span\");\r\n    i0.ɵɵtext(1, \"Missing image.\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nexport class AddProductComponent {\r\n    constructor(myProductsService, myCategoriesService, myRouter, notify) {\r\n        this.myProductsService = myProductsService;\r\n        this.myCategoriesService = myCategoriesService;\r\n        this.myRouter = myRouter;\r\n        this.notify = notify;\r\n        // We must create an empty object for the Two-Way Binding:\r\n        this.product = new ProductModel();\r\n        this.endOfProcess = new EventEmitter();\r\n    }\r\n    async ngOnInit() {\r\n        try {\r\n            this.categories = await this.myCategoriesService.getAllCategories();\r\n            console.log(this.categories);\r\n        }\r\n        catch (err) {\r\n            this.notify.error(err);\r\n        }\r\n    }\r\n    saveImage(args) {\r\n        this.product.image = args.target.files;\r\n    }\r\n    imageBlur() {\r\n        this.imageVisited = true;\r\n    }\r\n    async send() {\r\n        try {\r\n            console.log(this.product);\r\n            await this.myProductsService.addProduct(this.product);\r\n            this.notify.success(\"Product has been added.\");\r\n            this.endOfProcess.emit(true);\r\n            // this.myRouter.navigateByUrl(\"/admin\");\r\n        }\r\n        catch (err) {\r\n            this.notify.error(err);\r\n        }\r\n    }\r\n}\r\nAddProductComponent.ɵfac = function AddProductComponent_Factory(t) { return new (t || AddProductComponent)(i0.ɵɵdirectiveInject(i1.ProductsService), i0.ɵɵdirectiveInject(i2.CategoriesService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.NotifyService)); };\r\nAddProductComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: AddProductComponent, selectors: [[\"app-add-product\"]], outputs: { endOfProcess: \"endOfProcess\" }, decls: 25, vars: 9, consts: [[1, \"box\"], [3, \"submit\"], [\"myForm\", \"ngForm\"], [\"type\", \"text\", \"name\", \"name\", \"required\", \"\", \"pattern\", \"^[A-Z].*$\", 3, \"ngModel\", \"ngModelChange\"], [\"nameBox\", \"ngModel\"], [4, \"ngIf\"], [\"type\", \"\", \"name\", \"categoryId\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"categoryBox\", \"ngModel\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"number\", \"step\", \"0.01\", \"name\", \"price\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"priceBox\", \"ngModel\"], [\"type\", \"file\", \"accept\", \"image/*\", \"required\", \"\", 3, \"change\", \"blur\"], [3, \"disabled\"], [3, \"ngValue\"]], template: function AddProductComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"form\", 1, 2);\r\n        i0.ɵɵlistener(\"submit\", function AddProductComponent_Template_form_submit_1_listener() { return ctx.send(); });\r\n        i0.ɵɵelementStart(3, \"label\");\r\n        i0.ɵɵtext(4, \"\\u05E9\\u05DD: * \\u05D7\\u05D5\\u05D1\\u05D4 \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(5, \"input\", 3, 4);\r\n        i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_input_ngModelChange_5_listener($event) { return ctx.product.name = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(7, AddProductComponent_span_7_Template, 2, 0, \"span\", 5);\r\n        i0.ɵɵtemplate(8, AddProductComponent_span_8_Template, 2, 0, \"span\", 5);\r\n        i0.ɵɵelementStart(9, \"label\");\r\n        i0.ɵɵtext(10, \"\\u05E7\\u05D8\\u05D2\\u05D5\\u05E8\\u05D9\\u05D4: * \\u05D7\\u05D5\\u05D1\\u05D4\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(11, \"select\", 6, 7);\r\n        i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_select_ngModelChange_11_listener($event) { return ctx.product.categoryId = $event; });\r\n        i0.ɵɵtemplate(13, AddProductComponent_option_13_Template, 2, 2, \"option\", 8);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(14, \"label\");\r\n        i0.ɵɵtext(15, \"\\u05DE\\u05D7\\u05D9\\u05E8: * \\u05D7\\u05D5\\u05D1\\u05D4 \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(16, \"input\", 9, 10);\r\n        i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_input_ngModelChange_16_listener($event) { return ctx.product.price = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(18, AddProductComponent_span_18_Template, 2, 0, \"span\", 5);\r\n        i0.ɵɵelementStart(19, \"label\");\r\n        i0.ɵɵtext(20, \"\\u05EA\\u05DE\\u05D5\\u05E0\\u05D4: * \\u05D7\\u05D5\\u05D1\\u05D4 \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(21, \"input\", 11);\r\n        i0.ɵɵlistener(\"change\", function AddProductComponent_Template_input_change_21_listener($event) { return ctx.saveImage($event); })(\"blur\", function AddProductComponent_Template_input_blur_21_listener() { return ctx.imageBlur(); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(22, AddProductComponent_span_22_Template, 2, 0, \"span\", 5);\r\n        i0.ɵɵelementStart(23, \"button\", 12);\r\n        i0.ɵɵtext(24, \"Add\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        const _r0 = i0.ɵɵreference(2);\r\n        const _r1 = i0.ɵɵreference(6);\r\n        const _r6 = i0.ɵɵreference(17);\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.product.name);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", (_r1.errors == null ? null : _r1.errors.required) && _r1.touched);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", (_r1.errors == null ? null : _r1.errors.pattern) && _r1.touched);\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.product.categoryId);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.categories);\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.product.price);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", _r6.invalid && _r6.touched);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.imageVisited && !ctx.product.image);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"disabled\", _r0.form.invalid);\r\n    } }, directives: [i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.NgForm, i5.DefaultValueAccessor, i5.RequiredValidator, i5.PatternValidator, i5.NgControlStatus, i5.NgModel, i6.NgIf, i5.SelectControlValueAccessor, i6.NgForOf, i5.NumberValueAccessor, i5.NgSelectOption, i5.ɵNgSelectMultipleOption], styles: [\"form[_ngcontent-%COMP%] {\\r\\n    width: 300px;\\r\\n    margin: auto;\\r\\n    text-align: left;\\r\\n}\\r\\n\\r\\ninput[_ngcontent-%COMP%], button[_ngcontent-%COMP%], label[_ngcontent-%COMP%] {\\r\\n\\twidth: 100%;\\r\\n    box-sizing: border-box;\\r\\n    font-size: x-large;\\r\\n    margin-bottom: 30px;\\r\\n}\\r\\n\\r\\nspan[_ngcontent-%COMP%] {\\r\\n    color: red;\\r\\n    font-size: x-large;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZC1wcm9kdWN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxZQUFZO0lBQ1osWUFBWTtJQUNaLGdCQUFnQjtBQUNwQjs7QUFFQTtDQUNDLFdBQVc7SUFDUixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLFVBQVU7SUFDVixrQkFBa0I7QUFDdEIiLCJmaWxlIjoiYWRkLXByb2R1Y3QuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImZvcm0ge1xyXG4gICAgd2lkdGg6IDMwMHB4O1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxufVxyXG5cclxuaW5wdXQsIGJ1dHRvbiwgbGFiZWwge1xyXG5cdHdpZHRoOiAxMDAlO1xyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgIGZvbnQtc2l6ZTogeC1sYXJnZTtcclxuICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XHJcbn1cclxuXHJcbnNwYW4ge1xyXG4gICAgY29sb3I6IHJlZDtcclxuICAgIGZvbnQtc2l6ZTogeC1sYXJnZTtcclxufSJdfQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}