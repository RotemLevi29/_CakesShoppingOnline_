{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/rotem.levi/Downloads/CakesShoppingOnline_/CakesShoppingOnline_/fe/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport store from 'src/app/redux/store';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./../../../services/products.service\";\nimport * as i2 from \"src/app/services/notify.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../layout-area/menu/menu.component\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../../shared-area/please-wait/please-wait.component\";\nimport * as i7 from \"../product-card/product-card.component\";\n\nfunction ProductListComponent_app_please_wait_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-please-wait\");\n  }\n}\n\nfunction ProductListComponent_span_10_span_1_app_product_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-product-card\", 8);\n  }\n\n  if (rf & 2) {\n    const p_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"product\", p_r5);\n  }\n}\n\nfunction ProductListComponent_span_10_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtemplate(1, ProductListComponent_span_10_span_1_app_product_card_1_Template, 1, 1, \"app-product-card\", 7);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const p_r5 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.selectedCategoryName == p_r5.category.name);\n  }\n}\n\nfunction ProductListComponent_span_10_span_2_app_product_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-product-card\", 8);\n  }\n\n  if (rf & 2) {\n    const p_r9 = ctx.$implicit;\n    i0.ɵɵproperty(\"product\", p_r9);\n  }\n}\n\nfunction ProductListComponent_span_10_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtemplate(1, ProductListComponent_span_10_span_2_app_product_card_1_Template, 1, 1, \"app-product-card\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.products);\n  }\n}\n\nfunction ProductListComponent_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtemplate(1, ProductListComponent_span_10_span_1_Template, 2, 1, \"span\", 6);\n    i0.ɵɵtemplate(2, ProductListComponent_span_10_span_2_Template, 2, 1, \"span\", 5);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.products);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.selectedCategoryName == \"\");\n  }\n}\n\nfunction ProductListComponent_span_11_span_1_app_product_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-product-card\", 8);\n  }\n\n  if (rf & 2) {\n    const p_r11 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"product\", p_r11);\n  }\n}\n\nfunction ProductListComponent_span_11_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtemplate(1, ProductListComponent_span_11_span_1_app_product_card_1_Template, 1, 1, \"app-product-card\", 7);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const p_r11 = ctx.$implicit;\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r10.filterSerch(p_r11.name));\n  }\n}\n\nfunction ProductListComponent_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtemplate(1, ProductListComponent_span_11_span_1_Template, 2, 1, \"span\", 6);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.products);\n  }\n}\n\nconst _c0 = function (a0, a1) {\n  return {\n    \"col-12\": a0,\n    \"col-10\": a1\n  };\n};\n\nexport class ProductListComponent {\n  constructor(ngZone, myProductsService, notify) {\n    this.ngZone = ngZone;\n    this.myProductsService = myProductsService;\n    this.notify = notify;\n    this.values = '';\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.showCart = false;\n      _this.showSerch = false;\n      _this.selectedCategoryName = \"\";\n\n      try {\n        _this.products = yield _this.myProductsService.getAllProducts();\n        _this.unsubscribeMe = store.subscribe( /*#__PURE__*/_asyncToGenerator(function* () {\n          const products = yield _this.myProductsService.getAllProducts();\n          console.log(\"this is procuts after redux subscribe:\", products);\n\n          _this.ngZone.run(() => {\n            _this.products = products;\n          }); // this.products = products;\n\n\n          console.log(\"this is this.products-this.products after redux subscribe:\", _this.products); // this.selectedCategoryName = \"*\";\n          // this.selectedCategoryName = \"\";\n        }));\n      } catch (err) {\n        _this.notify.error(err);\n      }\n    })();\n  }\n\n  chooseCategory(selectedCategory) {\n    // console.log(selectedCategory);\n    this.selectedCategoryName = selectedCategory;\n    this.showSerch = false;\n    this.values = \"\";\n  }\n\n  onKey(event) {\n    this.showSerch = true;\n    this.values = event.target.value.toLowerCase();\n  }\n\n  filterSerch(str) {\n    const regex = new RegExp(this.values);\n    return regex.test(str.toLowerCase());\n  }\n\n  ngOnDestroy() {\n    this.unsubscribeMe(); // ...\n  }\n\n}\n\nProductListComponent.ɵfac = function ProductListComponent_Factory(t) {\n  return new (t || ProductListComponent)(i0.ɵɵdirectiveInject(i0.NgZone), i0.ɵɵdirectiveInject(i1.ProductsService), i0.ɵɵdirectiveInject(i2.NotifyService));\n};\n\nProductListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductListComponent,\n  selectors: [[\"app-product-list\"]],\n  decls: 12,\n  vars: 8,\n  consts: [[1, \"row\"], [3, \"ngClass\"], [3, \"selectCategoryEvent\"], [1, \"form-group\", \"col-8\"], [\"type\", \"text\", \"id\", \"filter\", \"placeholder\", \"\\u05D7\\u05E4\\u05E9 \\u05DE\\u05D5\\u05E6\\u05E8\", 1, \"form-control\", 3, \"keyup\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [3, \"product\", 4, \"ngIf\"], [3, \"product\"], [3, \"product\", 4, \"ngFor\", \"ngForOf\"]],\n  template: function ProductListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"app-menu\", 2);\n      i0.ɵɵlistener(\"selectCategoryEvent\", function ProductListComponent_Template_app_menu_selectCategoryEvent_2_listener($event) {\n        return ctx.chooseCategory($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"form\");\n      i0.ɵɵelementStart(4, \"div\", 3);\n      i0.ɵɵelementStart(5, \"input\", 4);\n      i0.ɵɵlistener(\"keyup\", function ProductListComponent_Template_input_keyup_5_listener($event) {\n        return ctx.onKey($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"span\");\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"br\");\n      i0.ɵɵtemplate(9, ProductListComponent_app_please_wait_9_Template, 1, 0, \"app-please-wait\", 5);\n      i0.ɵɵtemplate(10, ProductListComponent_span_10_Template, 3, 2, \"span\", 5);\n      i0.ɵɵtemplate(11, ProductListComponent_span_11_Template, 2, 1, \"span\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(5, _c0, !ctx.showCart, ctx.showCart));\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate(ctx.values);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.products);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.showSerch);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showSerch);\n    }\n  },\n  directives: [i3.NgClass, i4.MenuComponent, i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.NgForm, i3.NgIf, i6.PleaseWaitComponent, i3.NgForOf, i7.ProductCardComponent],\n  styles: [\"div[_ngcontent-%COMP%] {\\r\\n\\tpadding-top: 20px;\\r\\n    height: 100%;\\r\\n    overflow: auto;\\r\\n}\\r\\n\\r\\na[_ngcontent-%COMP%] {\\r\\n    position: absolute;\\r\\n    top: 100px;\\r\\n    right: 20px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3QtbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0NBQ0MsaUJBQWlCO0lBQ2QsWUFBWTtJQUNaLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLFdBQVc7QUFDZiIsImZpbGUiOiJwcm9kdWN0LWxpc3QuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImRpdiB7XHJcblx0cGFkZGluZy10b3A6IDIwcHg7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBvdmVyZmxvdzogYXV0bztcclxufVxyXG5cclxuYSB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDEwMHB4O1xyXG4gICAgcmlnaHQ6IDIwcHg7XHJcbn0iXX0= */\"]\n});","map":{"version":3,"sources":["C:/Users/rotem.levi/Downloads/CakesShoppingOnline_/CakesShoppingOnline_/fe/src/app/components/products-area/product-list/product-list.component.ts"],"names":["store","i0","i1","i2","i3","i4","i5","i6","i7","ProductListComponent_app_please_wait_9_Template","rf","ctx","ɵɵelement","ProductListComponent_span_10_span_1_app_product_card_1_Template","p_r5","ɵɵnextContext","$implicit","ɵɵproperty","ProductListComponent_span_10_span_1_Template","ɵɵelementStart","ɵɵtemplate","ɵɵelementEnd","ctx_r3","ɵɵadvance","selectedCategoryName","category","name","ProductListComponent_span_10_span_2_app_product_card_1_Template","p_r9","ProductListComponent_span_10_span_2_Template","ctx_r4","products","ProductListComponent_span_10_Template","ctx_r1","ProductListComponent_span_11_span_1_app_product_card_1_Template","p_r11","ProductListComponent_span_11_span_1_Template","ctx_r10","filterSerch","ProductListComponent_span_11_Template","ctx_r2","_c0","a0","a1","ProductListComponent","constructor","ngZone","myProductsService","notify","values","ngOnInit","showCart","showSerch","getAllProducts","unsubscribeMe","subscribe","console","log","run","err","error","chooseCategory","selectedCategory","onKey","event","target","value","toLowerCase","str","regex","RegExp","test","ngOnDestroy","ɵfac","ProductListComponent_Factory","t","ɵɵdirectiveInject","NgZone","ProductsService","NotifyService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","ProductListComponent_Template","ɵɵlistener","ProductListComponent_Template_app_menu_selectCategoryEvent_2_listener","$event","ProductListComponent_Template_input_keyup_5_listener","ɵɵtext","ɵɵpureFunction2","ɵɵtextInterpolate","directives","NgClass","MenuComponent","ɵNgNoValidate","NgControlStatusGroup","NgForm","NgIf","PleaseWaitComponent","NgForOf","ProductCardComponent","styles"],"mappings":"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","sourcesContent":["import store from 'src/app/redux/store';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"./../../../services/products.service\";\r\nimport * as i2 from \"src/app/services/notify.service\";\r\nimport * as i3 from \"@angular/common\";\r\nimport * as i4 from \"../../layout-area/menu/menu.component\";\r\nimport * as i5 from \"@angular/forms\";\r\nimport * as i6 from \"../../shared-area/please-wait/please-wait.component\";\r\nimport * as i7 from \"../product-card/product-card.component\";\r\nfunction ProductListComponent_app_please_wait_9_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"app-please-wait\");\r\n} }\r\nfunction ProductListComponent_span_10_span_1_app_product_card_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"app-product-card\", 8);\r\n} if (rf & 2) {\r\n    const p_r5 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵproperty(\"product\", p_r5);\r\n} }\r\nfunction ProductListComponent_span_10_span_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"span\");\r\n    i0.ɵɵtemplate(1, ProductListComponent_span_10_span_1_app_product_card_1_Template, 1, 1, \"app-product-card\", 7);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const p_r5 = ctx.$implicit;\r\n    const ctx_r3 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.selectedCategoryName == p_r5.category.name);\r\n} }\r\nfunction ProductListComponent_span_10_span_2_app_product_card_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"app-product-card\", 8);\r\n} if (rf & 2) {\r\n    const p_r9 = ctx.$implicit;\r\n    i0.ɵɵproperty(\"product\", p_r9);\r\n} }\r\nfunction ProductListComponent_span_10_span_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"span\");\r\n    i0.ɵɵtemplate(1, ProductListComponent_span_10_span_2_app_product_card_1_Template, 1, 1, \"app-product-card\", 9);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r4 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.products);\r\n} }\r\nfunction ProductListComponent_span_10_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"span\");\r\n    i0.ɵɵtemplate(1, ProductListComponent_span_10_span_1_Template, 2, 1, \"span\", 6);\r\n    i0.ɵɵtemplate(2, ProductListComponent_span_10_span_2_Template, 2, 1, \"span\", 5);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.products);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.selectedCategoryName == \"\");\r\n} }\r\nfunction ProductListComponent_span_11_span_1_app_product_card_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"app-product-card\", 8);\r\n} if (rf & 2) {\r\n    const p_r11 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵproperty(\"product\", p_r11);\r\n} }\r\nfunction ProductListComponent_span_11_span_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"span\");\r\n    i0.ɵɵtemplate(1, ProductListComponent_span_11_span_1_app_product_card_1_Template, 1, 1, \"app-product-card\", 7);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const p_r11 = ctx.$implicit;\r\n    const ctx_r10 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r10.filterSerch(p_r11.name));\r\n} }\r\nfunction ProductListComponent_span_11_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"span\");\r\n    i0.ɵɵtemplate(1, ProductListComponent_span_11_span_1_Template, 2, 1, \"span\", 6);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r2 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.products);\r\n} }\r\nconst _c0 = function (a0, a1) { return { \"col-12\": a0, \"col-10\": a1 }; };\r\nexport class ProductListComponent {\r\n    constructor(ngZone, myProductsService, notify) {\r\n        this.ngZone = ngZone;\r\n        this.myProductsService = myProductsService;\r\n        this.notify = notify;\r\n        this.values = '';\r\n    }\r\n    async ngOnInit() {\r\n        this.showCart = false;\r\n        this.showSerch = false;\r\n        this.selectedCategoryName = \"\";\r\n        try {\r\n            this.products = await this.myProductsService.getAllProducts();\r\n            this.unsubscribeMe = store.subscribe(async () => {\r\n                const products = await this.myProductsService.getAllProducts();\r\n                console.log(\"this is procuts after redux subscribe:\", products);\r\n                this.ngZone.run(() => {\r\n                    this.products = products;\r\n                });\r\n                // this.products = products;\r\n                console.log(\"this is this.products-this.products after redux subscribe:\", this.products);\r\n                // this.selectedCategoryName = \"*\";\r\n                // this.selectedCategoryName = \"\";\r\n            });\r\n        }\r\n        catch (err) {\r\n            this.notify.error(err);\r\n        }\r\n    }\r\n    chooseCategory(selectedCategory) {\r\n        // console.log(selectedCategory);\r\n        this.selectedCategoryName = selectedCategory;\r\n        this.showSerch = false;\r\n        this.values = \"\";\r\n    }\r\n    onKey(event) {\r\n        this.showSerch = true;\r\n        this.values = event.target.value.toLowerCase();\r\n    }\r\n    filterSerch(str) {\r\n        const regex = new RegExp(this.values);\r\n        return regex.test(str.toLowerCase());\r\n    }\r\n    ngOnDestroy() {\r\n        this.unsubscribeMe();\r\n        // ...\r\n    }\r\n}\r\nProductListComponent.ɵfac = function ProductListComponent_Factory(t) { return new (t || ProductListComponent)(i0.ɵɵdirectiveInject(i0.NgZone), i0.ɵɵdirectiveInject(i1.ProductsService), i0.ɵɵdirectiveInject(i2.NotifyService)); };\r\nProductListComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ProductListComponent, selectors: [[\"app-product-list\"]], decls: 12, vars: 8, consts: [[1, \"row\"], [3, \"ngClass\"], [3, \"selectCategoryEvent\"], [1, \"form-group\", \"col-8\"], [\"type\", \"text\", \"id\", \"filter\", \"placeholder\", \"\\u05D7\\u05E4\\u05E9 \\u05DE\\u05D5\\u05E6\\u05E8\", 1, \"form-control\", 3, \"keyup\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [3, \"product\", 4, \"ngIf\"], [3, \"product\"], [3, \"product\", 4, \"ngFor\", \"ngForOf\"]], template: function ProductListComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"div\", 1);\r\n        i0.ɵɵelementStart(2, \"app-menu\", 2);\r\n        i0.ɵɵlistener(\"selectCategoryEvent\", function ProductListComponent_Template_app_menu_selectCategoryEvent_2_listener($event) { return ctx.chooseCategory($event); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(3, \"form\");\r\n        i0.ɵɵelementStart(4, \"div\", 3);\r\n        i0.ɵɵelementStart(5, \"input\", 4);\r\n        i0.ɵɵlistener(\"keyup\", function ProductListComponent_Template_input_keyup_5_listener($event) { return ctx.onKey($event); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(6, \"span\");\r\n        i0.ɵɵtext(7);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(8, \"br\");\r\n        i0.ɵɵtemplate(9, ProductListComponent_app_please_wait_9_Template, 1, 0, \"app-please-wait\", 5);\r\n        i0.ɵɵtemplate(10, ProductListComponent_span_10_Template, 3, 2, \"span\", 5);\r\n        i0.ɵɵtemplate(11, ProductListComponent_span_11_Template, 2, 1, \"span\", 5);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(5, _c0, !ctx.showCart, ctx.showCart));\r\n        i0.ɵɵadvance(6);\r\n        i0.ɵɵtextInterpolate(ctx.values);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", !ctx.products);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", !ctx.showSerch);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.showSerch);\r\n    } }, directives: [i3.NgClass, i4.MenuComponent, i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.NgForm, i3.NgIf, i6.PleaseWaitComponent, i3.NgForOf, i7.ProductCardComponent], styles: [\"div[_ngcontent-%COMP%] {\\r\\n\\tpadding-top: 20px;\\r\\n    height: 100%;\\r\\n    overflow: auto;\\r\\n}\\r\\n\\r\\na[_ngcontent-%COMP%] {\\r\\n    position: absolute;\\r\\n    top: 100px;\\r\\n    right: 20px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3QtbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0NBQ0MsaUJBQWlCO0lBQ2QsWUFBWTtJQUNaLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLFdBQVc7QUFDZiIsImZpbGUiOiJwcm9kdWN0LWxpc3QuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImRpdiB7XHJcblx0cGFkZGluZy10b3A6IDIwcHg7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBvdmVyZmxvdzogYXV0bztcclxufVxyXG5cclxuYSB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDEwMHB4O1xyXG4gICAgcmlnaHQ6IDIwcHg7XHJcbn0iXX0= */\"] });\r\n"]},"metadata":{},"sourceType":"module"}